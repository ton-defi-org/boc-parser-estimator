{"version":3,"sources":["api.tsx","App.tsx","BocExample.tsx","MessageAction.tsx","MessageBox.tsx","BocResult.tsx","ShareQrCode.tsx","BocInfo.tsx","index.tsx","utils.ts"],"names":["BOC_BACKEND","process","REACT_APP_BOC_BACKEND","estimateBoc","message","a","fetch","method","headers","body","res","text","data","publishBoc","document","location","hash","TonWeb","array_buffer_to_buffer","ab","buffer","Buffer","byteLength","view","Uint8Array","i","length","QrReader","props","once","onScanSuccess","decodedText","decodedResult","console","log","onDone","useEffect","Html5QrcodeScanner","fps","qrbox","render","undefined","className","src","id","App","initialBoc","destination","wallet","amount","flags","refLen","bocData","rawData","useState","boc","setBoc","bocName","setBocName","error","setError","file","useRef","deploying","readingQR","setReadingQrMode","bocParam","parseQuery","window","search","replace","loadBocFromStr","onFileChange","useCallback","_event","fr","FileReader","onload","e","target","result","loadBoc","current","files","readAsArrayBuffer","fileBuffer","fileObject","name","indexOf","toString","parseBoc","value","BN","mydata","from","toFriendly","dest","to","BigNumber","div","toFormat","bocStr","stateInit","init","bodyCell","useDropzone","onDrop","getRootProps","onClear","ref","type","onChange","htmlFor","klass","deployDoneMessage","qrReader","base64ToArrayBuffer","dropArea","str","setName","BOC_REGULAR_TX","SWAP_TON_JETTON","SWAP_JETTON_TON_AND_REVERT","SWAP_JETTON_TON","DEPLOY_JETTON","STONE","BocExample","currentBoc","setExampleBoc","isExpanded","setIsExpanded","onclick","classSelected","style","float","onClick","bind","MessageAction","action","index","mode","info","coins","fromNano","addressFromJson","AddressAvatar","address","size","content","toSvg","dangerouslySetInnerHTML","__html","AddressLinkAndAvatar","link","href","addressEllipsis","MessageBox","inMessage","contractAddress","actions","fromAddress","exit_code","myAddress","tonValue","strEllipsis","feeFmt","hexStr","nano","dotIndex","substring","TxDetails","computationFee","fwdFee","BocResult","messageList","Object","keys","map","chain","messagesChains","chainCounter","key","push","indent","loadingTime","MessagesChain","messagesChain","addr","sourceWallet","_class","Message","val","actionList","it","ShareQrCode","shareUrl","title","height","margin","maxWidth","width","viewBox","BocInfo","externalStateInit","results","setResults","isLoading","setIsLoading","sendBocRes","setSendBocRes","sendBocError","setSendBocError","isPublishingBoc","setPublishingBoc","setShareUrl","setLoadingTime","runBocEmulator","now","Date","bocResultResponse","toFixed","JSON","parse","publishBocClick","ArrayBuffer","isView","u8ToBase64Str","shareClick","base64","url","code","sendBocResEl","buttonClass","msgSeqno","seqno","validUntil","toISOString","subWalletId","bounce","toBoc","ReactDOM","getElementById","client","TonClient","endpoint","queryString","query","pairs","substr","split","pair","decodeURIComponent","u8","btoa","String","fromCharCode","apply","binary_string","atob","len","bytes","charCodeAt","base64Boc","c","Cell","fromBoc","externalMessage","parseMessage","beginParse","refs","slice","innerMessage","innerInfo","externalMessageBody","skip","readUint","callGetMethod","seqnoRes","stack","toNumber","arg","Address","workchain"],"mappings":"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","file":"static/js/main.6dd5c9f3.chunk.js","sourcesContent":["\n\nconst BOC_BACKEND = process.env.REACT_APP_BOC_BACKEND || 'https://tvm-bus-server.herokuapp.com';\n\nexport async function estimateBoc(message: any) {\n    let res = await fetch(`${BOC_BACKEND}/sendBoc`, { \n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: `{ \"boc\": \"${message}\" }`,\n    });\n    let data = await res.text();\n    return data;\n}\n\n\nexport async function publishBoc(message: any) {\n    let res = await fetch(`https://toncenter.com/api/v2/sendBoc`, { \n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: `{ \"boc\": \"${message}\" }`,\n    });\n    let data = await res.text();\n    return data;\n}","import { useCallback, useRef, useState, useEffect } from 'react';\nimport { useDropzone } from \"react-dropzone\";\nimport BigNumber from \"bignumber.js\";\nimport './custom.css';\nimport './index.css';\nimport { BocInfo } from './BocInfo';\nimport { BocExample } from './BocExample';\nimport { parseQuery, base64ToArrayBuffer, parseBoc } from './utils'\nimport  { Html5QrcodeScanner } from 'html5-qrcode'\nimport TonWeb from \"tonweb\";\nimport { estimateBoc, publishBoc } from './api';\nimport { Address, Cell, RawStateInit } from 'ton';\nimport BN from \"bn.js\";\n\nconst bocFromHash = document.location.hash;\n\nconst tonweb = new TonWeb();\nconst qr_image = 'data:image/png;base64,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';\n\nfunction array_buffer_to_buffer(ab: ArrayBuffer) {\n    const buffer = new Buffer(ab.byteLength);\n    const view = new Uint8Array(ab);\n    for (let i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n    }\n    return buffer;\n}\n\n\nexport type boc  = {\n    destination: string;\n    wallet: string;\n    amount: number\n    flags: string\n    refLen: number\n    bocData: any\n    body?: any\n    stateInit?: RawStateInit \n    bodyCell?: Cell\n    rawData?: any\n    init?: any\n    bounce?: boolean\n    seqno: number,\n    msgSeqno: number,\n    validUntil: number,\n    subWalletId: number\n};\n\n\n\nfunction App() {\n    const initialBoc = {\n        destination: 'x',\n        wallet: '',\n        amount: '-1',\n        flags:'0x',\n        refLen: -1,\n        bocData: new Uint8Array(0),\n        body: '',\n        rawData: undefined,\n    } as any;\n\n    /** State */\n    const [boc, setBoc] = useState(initialBoc);\n    const [bocName, setBocName] = useState('');\n    const [error, setError] = useState('');\n    const file: any = useRef(null);\n    const [deploying, setDeploying] = useState(0);\n    const [readingQR, setReadingQrMode] = useState(0);\n    useEffect(() => {\n        let params = parseQuery(window.location.search) as any;\n        let bocParam = params.boc || window.location.hash.replace(\"#\",\"\");\n        if (bocParam) {\n            loadBocFromStr(bocParam)\n        }\n    }, []);\n\n\n    const onFileChange = useCallback((_event: any) => {\n                let fr = new FileReader();\n                \n                fr.onload = async function (e: any) {\n                    console.log(e.target.result);\n                    loadBoc(e.target.result, file.current.files[0]);\n                }\n            fr.readAsArrayBuffer(file.current.files[0]);\n    }, []);\n\n    async function loadBoc(fileBuffer: any, fileObject: any) {\n        if(fileObject.name.indexOf('.boc') === -1 ) {\n            setError('Invalid file name, file must have the *.boc extention');\n            return;\n        }\n        if(fileBuffer.byteLength < 100) {\n            setError('Invalid file size, boc file should be larger than 100 bytes');\n            return;\n        }\n        console.log('base64', array_buffer_to_buffer(fileBuffer).toString('base64'));\n        let bocData = await parseBoc(array_buffer_to_buffer(fileBuffer).toString('base64'));\n        if (!bocData.value) {\n            // @ts-ignore\n            bocData.value = new BN('0');\n        }\n        console.log({mydata: bocData});\n        const wallet = (bocData.from as Address).toFriendly()!!\n        const dest = (bocData.to as Address).toFriendly()\n\n        setBoc({\n            rawData: array_buffer_to_buffer(fileBuffer) as any,\n            ...bocData,\n            wallet: wallet,\n            destination: dest,\n            amount: new BigNumber(bocData.value.toString(10)).div(1e9).toFormat(4),\n            body: bocData?.body?.toString()!!,\n        });\n\n    }\n\n    async function loadBocFromStr(bocStr: string) {\n        setBoc(initialBoc);\n        \n        let bocData = await parseBoc(bocStr);\n        if (!bocData.value) {\n            // @ts-ignore\n            bocData.value = new BN('0');\n        }\n        \n        console.log('loadBocFromStr',{mydata: bocData});\n\n        const wallet = (bocData.from as Address).toFriendly()!!\n        const dest = (bocData.to as Address).toFriendly()\n        setBoc({\n            rawData: bocStr,\n            ...bocData,\n            wallet: wallet,\n            destination: dest,\n            amount: new BigNumber(bocData.value.toString(10)).div(1e9).toFormat(4),\n            body: bocData?.body?.toString()!!,\n            stateInit: bocData.init,\n            bodyCell : bocData?.body,\n        });\n\n    }\n\n    function onDrop(files: File[]) {\n        let fr = new FileReader();\n        fr.onload = async function (e: any) {\n            loadBoc(e.target.result, files[0]);\n        }\n        fr.readAsArrayBuffer(files[0]);\n    }\n\n\n    const { getRootProps } = useDropzone({onDrop});\n    const bocData = boc.wallet ? <BocInfo boc={boc} bocName={bocName} onClear={() => { setBoc(initialBoc); }} estimateBoc={estimateBoc} publishBoc={publishBoc} /> : \n        (<div>\n            {/* <div className='button is-info' onClick={(e)=> { setReadingQrMode(0); e.stopPropagation();  }}>\n                 <img className='btn-2 qr-logo qr-logo-btn' src={qr_image}></img>Scan QR Code\n            </div> */}\n            <span className='p-10'>{error}</span>\n            <span className=''> </span> \n            <input id=\"file-upload\" ref={file} type=\"file\" className='file ' onChange={onFileChange}></input>    \n            <label htmlFor=\"file-upload\" className=\"button is-info\">Upload Boc File</label>\n        </div>);    \n  \n    let klass = deploying == 1 ? 'busy' : '';\n    let deployDoneMessage = null;\n    if(deploying == 2) {\n        deployDoneMessage = <div className='deploy-message'>Boc Deployment Completed</div>\n    }\n\n    let qrReader = null;\n    if(readingQR) {\n        qrReader = (<QrReader onDone={onQrRead} />)\n    } else {\n        qrReader = null;\n    }\n\n    function onQrRead(data: string) {\n        setReadingQrMode(0);\n        let u8Arr = base64ToArrayBuffer(data);\n        loadBoc(u8Arr, {name:'qr.boc'});\n    }   \n\n    const dropArea =  boc.bocData == new Uint8Array(0) ? null : (<div className='drop-zone' {...getRootProps()}></div>)\n\n    return (\n        <div className=\"App\">\n            <div className='title'>B💎C Parser</div>\n            <div className='title-h2'>🔍 Parse | 🖥 Emulate | 🚀 Deploy | 📷 Share </div>\n            \n        <div className=\"app-main\">\n                <BocExample parseBoc={(str: string) => { loadBocFromStr(str); }}\n                    setName={(name: string) => {\n                        setBocName(name);\n                    }}\n                />\n            <div className={klass}>\n                {boc.error ? (<div className='boc-error'>{boc.error}</div>) : null}\n                {boc.wallet ? null : dropArea}\n                {boc.wallet ? null :qrReader}\n                {bocData}\n                {deployDoneMessage}\n            </div>\n        </div>\n    </div>);\n}\n\nconst QrReader = ( props: any ) => {\n    let once = false;\n    function onScanSuccess(decodedText: string, decodedResult: any) {\n        if(once) {\n            return;\n        }\n        once = true;\n        console.log('onScanSuccess',decodedText)\n        props.onDone(decodedText)\n    }\n\n    useEffect(() => {\n        var html5QrcodeScanner = new Html5QrcodeScanner(\"qr-reader\", { fps: 10, qrbox: 250,  }, false);\n        html5QrcodeScanner.render(onScanSuccess, undefined);\n          \n      }, []);\n        \n    return (\n        <div>\n            <h3><img className='qr-logo' src={qr_image}></img>Scan QR Code</h3>\n            <div id=\"qr-reader\" ></div>\n            <div className='qrReader'></div>\n        </div>)\n            \n}\n\n\nexport default App;\n","import { useState } from \"react\";\n\nconst BOC_WITH_STATE_INIT = 'te6cckECAwEAAQ8AAt+IAbcaWXVUguqdxz4NjDzLseJCFvWPlUckZQ7AwWRqvm78EZ50PcvxScy9x3qXO+Do6kpHnnPlEFZiHF4DuyhYcUGUaIiiRsTdjDmm+SSmb2czzydjnagg0zLnNeWmUh1KyAClNTRi/////+AAAAAQAQIA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVABQAAAAACmpoxcnJTZWfAxBC0SpxXMaIHJbrgfb9No7xJuHNDXaluLadzgetvk=';\nconst BOC_REGULAR_TX = 'te6cckEBAgEAqQAB34gBtxpZdVSC6p3HPg2MPMux4kIW9Y+VRyRlDsDBZGq+bvwBGJ82qnbjKmXg2u8Of75PNExfAShOBw8CeFHsqAlP364VGB5bEmZyQllIAE3YESvKWOB22QsEC2NFl1AU9FuQWU1NGLsZbKaYAAAACBwBAGhiAHXG0W1CXIYD9CYFNJmdkDcOTrv6yoxMePd0iiCVO26WIBfXhAAAAAAAAAAAAAAAAAAA3/KpOA==';\n\nconst SWAP_TON_JETTON =\n    \"te6cckEBAgEAvwAB34gBxw5akQfJaXlBLYO7rsolHBjY6Ik5Q1Lb9shmS/UwX+QHWFrwTABHCdMlIIRLpZbyRs1h5v/mhUOS+cAq3kR2vT+jhNDvpZxGuQcPveMm5XyHFlZXc/f+8tiIXn13NISwOU1NGLsa8z7QAAAMgBwBAJRiAG01gF4g3YBE6C155WD4bBwzVaPiwwux6+ELuGVQS1OdIh+YKAAAAAAAAAAAAAAAAAAAAAAAGQAAAAAAAAABQ7msoAXjF4cRtdX05xc=\";\n\nconst SWAP_JETTON_TON_AND_REVERT =\n    \"te6cckECAwEAAQ8AAd+IAccOWpEHyWl5QS2Du67KJRwY2OiJOUNS2/bIZkv1MF/kBnRSZfWv+62Sayl1lgAMMqDMLT+mekwqIHxlXL1jW+mEkMkaTI0BkS2vX2IAA0Q+FgbTyW2zvLm4Up/kjpBNEFlNTRi7GihegAAADFgcAQFoYgAsINhSTiB00s++1QqrBeb4d1/4USV8aWHz2lw8jgvH06BCwdgAAAAAAAAAAAAAAAAAAQIAxQ+KfqUAAAAAAAAAAWWvMQekAAgBJRzl59Y42NrFTK/xPHgN0bvOu3ZL1501dw55CQFGsuMAOOHLUiD5LS8oJbB3ddlEo4MbHREnKGpbftkMyX6mC/yICrqVAAAAABhBfqjMWOUNPJw=\";\n\nconst SWAP_JETTON_TON =\n    \"te6cckECAwEAAQ4AAd+IAccOWpEHyWl5QS2Du67KJRwY2OiJOUNS2/bIZkv1MF/kAVaAjUug6ljUj5/qxmljCCqrJUnSxUiqlYkWDZZTvrRV1zwGUY8jWlkrGZDDO4/IKrMKt7cGLOGGpUG+vmfMqGFNTRi7GwUFCAAADNgcAQFoYgBeMcWFnmxCkcI0rBSUypr7zwNUePBnjIBseA8tnB1YEKBCwdgAAAAAAAAAAAAAAAAAAQIAww+KfqUAAAAAAAAAAVAdN347aAAS3pX3JJG8lvOUpFhNdCk5L+8hSBCFyDo1FJg1U63imQA44ctSIPktLyglsHd12USjgxsdEScoalt+2QzJfqYL/IgKupUAAAAAGEOvOjBI49Fy/w==\";\n\nconst DEPLOY_JETTON = \"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\";\n\nconst SCALETON = \"te6cckECBwEAAiQAAd+IAccOWpEHyWl5QS2Du67KJRwY2OiJOUNS2/bIZkv1MF/kANrbWlcv22ceE71WLzToWWkfnjRCKX6B8UppbE3Ke3xMLbvMw5CW/Vw4NGQbsqvgmSNnbeCzLewBeMedjRlfuGFNTRi7G8+bcAAADcgcAQFoYgBHngXBh2KHCxrhditmB7O6bcGw4Gdu8hU2LPVrocVF0CWWgvAAAAAAAAAAAAAAAAAAAQIBrxkiCphYDQ60CdwOkEdzWUAIAVIir1dJLq6bvThZLiy4aB1QtblvXd+Frvv8ZGM3vuaDADjhy1Ig+S0vKCWwd3XZRKODGx0RJyhqW37ZDMl+pgv8kL68IAMDAZdJKpgbgAasmelKYDZ6AHnl5HW2KSmLZuRXkZmDJHSp620RB/BN0AOOHLUiD5LS8oJbB3ddlEo4MbHREnKGpbftkMyX6mC/yQF9eEAgBAJf0zuweeAHHDlqRB8lpeUEtg7uuyiUcGNjoiTlDUtv2yGZL9TBf5KUE3zJ/yAvrwgEBQYAl+kWu++AHHDlqRB8lpeUEtg7uuyiUcGNjoiTlDUtv2yGZL9TBf5QA44ctSIPktLyglsHd12USjgxsdEScoalt+2QzJfqYL/JAJiWgCAAl6iXCtCAHHDlqRB8lpeUEtg7uuyiUcGNjoiTlDUtv2yGZL9TBf5QA44ctSIPktLyglsHd12USjgxsdEScoalt+2QzJfqYL/JAJiWgCDV3TpL\";\nconst STONE = \"te6cckECAwEAAS4AAd+IAccOWpEHyWl5QS2Du67KJRwY2OiJOUNS2/bIZkv1MF/kAvnDyewIdbg/sv09+c6HU+RHjW2xHELhCITg5l0chRDQmuGsCV/BVSXvVTCcmWyg9XeWZ2mdzgP/8DqIuCQqWGlNTRi7HGVl2AAADnAcAQHVYgApoCUT6thmuB4Xm9SXQfey5CM2UsFzsloGjmStITj+1SCPDRgAAAAAAAAAAAAAAAAAAA+KfqUAEPpyJSppCEO5rUMIAO87mQKicbKgHIk4pSPP4k5xhHqutqYgAB7USnesDnCcED39JAMCAJUlk4VhgALJ9dBBxH/f1PcJPvXABIoXxAfSRxyJdSoViW248MLh5jQ4oQA44ctSIPktLyglsHd12USjgxsdEScoalt+2QzJfqYL/JDKvqsF\";\n\nexport const BocExample = ( props: {parseBoc: Function, setName: Function}) => {\n    \n    const [currentBoc, setExampleBoc] = useState(\"\");\n    const [isExpanded, setIsExpanded] = useState(false);\n\n    function onclick(data: any, name:string) {\n        props.parseBoc(data);\n        props.setName(name);\n        setExampleBoc(data)\n    }\n\n    function classSelected(boc: string) {\n        return currentBoc == boc ? \"is-primary\" : \"\"\n    }\n    function expandButton() {\n        return (<>\n            <div className=\"p-10\"></div>    \n            <div className=\"button is-small right\" style={{float:\"right\"}} onClick={() => {  setIsExpanded(true) }}>Show Examples</div>\n        </>)\n    }\n\n    if (!isExpanded) {\n        return expandButton();\n    }\n    \n\n    return (\n        <div className=\"border-b p-10\">\n            <div>Boc Examples\n                <button style={{ float: \"right\" }} onClick={() => setIsExpanded(false)}> ❌ </button>\n            </div>\n            <div onClick={onclick.bind(null, BOC_REGULAR_TX, 'boc empty')} className={\"tag boc-button \" + classSelected(BOC_REGULAR_TX) }>boc empty</div>\n            {/* <div onClick={onclick.bind(null, BOC_WITH_STATE_INIT, 'boc boc')} className={\"boc-button\">b + }oc boc-state-init</div> */}\n            <div onClick={onclick.bind(null, DEPLOY_JETTON, 'Deploy Jetton')} className={\"tag boc-button \"  + classSelected(DEPLOY_JETTON) }>Deploy Jetton </div>\n            <div onClick={onclick.bind(null, SWAP_JETTON_TON, 'Swap ton')} className={\"tag boc-button \"   + classSelected(SWAP_JETTON_TON) }>Swap Jetton to Ton</div>\n            <div onClick={onclick.bind(null, SWAP_TON_JETTON, 'Swap Jetton')} className={\"tag boc-button \" + classSelected(SWAP_TON_JETTON) }>Swap Ton to Jetton</div>\n            <div onClick={onclick.bind(null, SWAP_JETTON_TON_AND_REVERT, 'Swap Jetton')} className={\"tag boc-button \" + classSelected(SWAP_JETTON_TON_AND_REVERT) }>Swap Jetton And Revert</div>\n            {/* <div onClick={onclick.bind(null, SCALETON, 'SCALETON')} className={\"tag boc-button \" + classSelected(SCALETON) }>ScaleTon</div> */}\n            <div onClick={onclick.bind(null, STONE, 'StonFi')} className={\"tag boc-button \" + classSelected(STONE)}>Ston.fi</div>\n        </div>   )\n}","import { fromNano } from \"ton\";\nimport { addressFromJson } from \"./utils\";\n\n\n\nexport const MessageAction = ({ action, index }: any) => {\n    console.log(action);\n\n    const { type, mode, message } = action;\n    console.log(message.info.value.coins);\n    \n    const value = fromNano(message.info.value.coins)\n    const dest = addressFromJson(message.info.dest);\n        \n    return (<div className='flex action-line text-3xl font-bold underline text-red-600'>\n        \n        <div>{index+1})<b className=''> type:</b>{type}</div>\n        <div><b className=''>mode:</b>{mode}</div>\n        <div><b className=''>value:</b>{value}💎</div>\n        <div><b className=''>dest:</b>{dest.toFriendly()}💎</div>\n        \n        {/* <div><b className='res-property'>from:</b>{fromAddress.toFriendly()}</div>\n        <div><b className='res-property'>from:</b>{fromAddress.toFriendly()}</div> */}\n    </div>)\n}","import { Address, fromNano } from \"ton\";\nimport { addressEllipsis, addressFromJson, strEllipsis } from \"./utils\";\nimport { toSvg } from \"jdenticon\";\n\n\nconst AddressAvatar = ({ address, size }: any) => {\n    const content = toSvg(address, size);\n\n    return <span className=\"address-avatar\" dangerouslySetInnerHTML={{ __html: content }}></span>;\n    \n}\n\nexport const AddressLinkAndAvatar = ({ address }: any) => {\n    \n    const link = `https://tonscan.org/address/${address.toFriendly()}`;\n    return (<div className=\"message-address\">\n        <a href={link}>\n            <AddressAvatar size={32} address={address.toFriendly()} />\n            <br />\n            {addressEllipsis(address.toFriendly())}\n        </a>\n    </div>);\n}\n\nexport const MessageBox = ( { message }: any) => {\n\n    if (!message) {\n        return <div>empty</div>\n    }\n    const { inMessage, from, contractAddress, actions, exit_code } = message;\n    const fromAddress = addressFromJson(from);\n    const myAddress = addressFromJson(contractAddress);\n    const tonValue = fromNano(inMessage.value.toString());\n    \n    \n    \n    // const actionList = actions.map((it: any, i: number) => {\n    //     return <MessageAction action={it} index={i} key={i} />\n    // })\n\n    return (\n        <>\n            <div className='message-item'>\n                <AddressLinkAndAvatar address={myAddress} />\n                <TxDetails message={message} />\n                {/* <div className=\"message-address\"><AddressAvatar  size={32} address={myAddress.toFriendly()}/> {addressEllipsis(myAddress.toFriendly())}</div> */}\n                <div className='message-item-body'>\n                    \n                    <div><b className='message-item-row'>from:</b>{addressEllipsis(fromAddress.toFriendly())}</div>\n                    <div className=\"message-box-value\">Value: {tonValue}💎</div>\n                    <div>\n                        <div>body:</div>\n                        <pre className=\"message-body-pre\">{strEllipsis(inMessage.body.toString(), 16)}</pre>\n                    </div>\n                    \n                    \n                    <div>🎬 <b className='message-item-row'>actions</b>: {actions.length}</div>\n                    <br />\n                    {/* <div>{actionList}</div> */}\n                </div>\n            </div>\n        </>)\n}\n\n\nfunction feeFmt(hexStr: string) {\n    if (!hexStr) {\n        return \"0\";\n    }\n    let nano = fromNano(hexStr);\n    let dotIndex = nano.indexOf('.')\n    return nano.substring(0, dotIndex + 9);\n}\n\n\nexport const TxDetails = ({ message }: any) => {\n    \n    return (<div className=\"tx-details-box\">\n        \n        <div className=\"fee-row\">\n            <b >compute:</b>\n            <div className=\"fee-value\">{feeFmt(message.computationFee)}💎</div>\n        </div>\n        \n        <div className=\"fee-row\">\n            <b>fwd:</b>\n            <div className=\"fee-value\">{feeFmt(message.fwdFee)}💎</div>\n        </div>\n        <div className=\"fee-row\">\n            <b>exit code:</b>\n            <div className=\"fee-value\">{message.exit_code}</div>\n        </div>\n        \n    </div>)\n}","import {  Address, Cell, fromNano } from 'ton';\nimport { MessageAction } from './MessageAction';\nimport { AddressLinkAndAvatar, MessageBox } from './MessageBox';\nimport { addressEllipsis, addressFromJson, strEllipsis } from './utils';\n\n\nexport const BocResult = (props: { messageList: any, loadingTime:string }) => {\n    console.log(props);\n    \n    const { messageList } = props;\n    console.log(messageList);\n    if (!messageList || Object.keys(messageList).length == 0) {\n        return <div></div>\n    }\n    const messages = messageList.messageList.map(  (message: any, index: number) => {\n        return <Message message={message} key={index} />\n    });\n\n    const { chain } = messageList; \n    const messagesChains = [];\n    let chainCounter = 0;\n    for(const key in chain) {\n        messagesChains.push( <MessagesChain chain={chain[key]} key={key} indent={chainCounter++} />)\n    }\n    \n    \n    \n    return (\n        <div className='boc-output'>\n            <div className='mini-header p-20'>\n                {props.loadingTime}\n            </div>\n            {messagesChains}\n            {/* {messages} */}\n        </div>\n    )\n}\n\n\nconst MessagesChain = ({ chain, indent }: any) => {\n    const messagesChain = chain.map(  (message: any, index: number) => {\n        return <MessageBox message={message} key={index} />\n    });\n    //let addr = new Address(chain[0].from.wc, chain[0].from.hash)\n   // let source = chain[0].from as Address;\n    let addr = addressFromJson(chain[0].from)\n    \n    let sourceWallet = undefined\n    \n    if (indent == 0) {\n        sourceWallet = (\n            <div className='genesis-wallet'>\n            0️⃣\n            <div>Source wallet</div>\n            <AddressLinkAndAvatar address={addr} />\n        </div>)\n    }\n    const _class = `flex indent-${indent}`\n    return (<div className={_class}>\n        \n            {sourceWallet}\n        \n        {messagesChain}\n    </div>)\n}\n\n\n\n\n\nconst Message = ( { message }: any) => {\n\n    if (!message) {\n        return <div>empty</div>\n    }\n    const { inMessage, from, contractAddress, actions } = message;\n    const fromAddress = addressFromJson(from);\n    const myAddress = addressFromJson(contractAddress);\n    \n    const val = fromNano(inMessage.value.toString());\n    \n    const actionList = actions.map((it: any, i: number) => {\n        return <MessageAction action={it} index={i} key={i} />\n    })\n    return (\n        <>\n            <div className='header-boc-output'>Boc's Messages output</div>\n            <div className='message-result'>\n                <div><b className='res-property'>from:</b>{fromAddress.toFriendly()}</div>\n                <div><b className='res-property'>value:</b>{val}💎</div>\n                <div><b className='res-property'>To:</b>{myAddress.toFriendly()}</div>\n                <div><b className='res-property'>body:</b><pre>{strEllipsis(inMessage.body.toString(), 50)}</pre></div>\n                <div><b className='res-property'>actions</b>: {actions.length}</div>\n                <div>{actionList}</div>\n            </div>\n        </>)\n}\n\n\n\n","\nimport QRCode from \"react-qr-code\";\n\nexport const ShareQrCode = (props: { shareUrl: string }) => {\n    \n    const { shareUrl } = props;\n    \n    if (!shareUrl) {\n        return <></>\n    }\n    \n    return <div title={shareUrl} style={{ height: \"auto\", margin: \"2rem auto\", maxWidth: 350, width: \"100%\" }}>\n        <div className=\"title\">Share this boc through QR code</div>\n        <QRCode\n        size={256}\n        style={{ height: \"auto\", maxWidth: \"100%\", width: \"100%\" }}\n        value={shareUrl}\n        viewBox={`0 0 256 256`}\n        />\n</div>\n};\n","import {  useState } from 'react';\nimport { Address, RawStateInit } from 'ton';\nimport { boc } from './App';\nimport { BocResult } from './BocResult';\nimport BN from \"bn.js\";\nimport { ShareQrCode } from './ShareQrCode';\nimport { u8ToBase64Str } from './utils';\nimport { TonClient } from \"ton\";\n\n\ntype BocResult = {\n    \n}\n\n\n\nexport const BocInfo = (props: {boc: boc, bocName:string, onClear: any, estimateBoc: any, publishBoc: any}) => {\n    const { boc, onClear, estimateBoc, bocName, publishBoc } = props;\n\n    const [results, setResults] = useState({} as BocResult);\n    const [isLoading, setIsLoading] = useState(false);\n    const [sendBocRes, setSendBocRes] = useState(\"\");\n    const [sendBocError, setSendBocError] = useState(\"\");\n    const [isPublishingBoc, setPublishingBoc] = useState(false);\n    const [shareUrl, setShareUrl] = useState(\"\");\n\n    const [loadingTime, setLoadingTime] = useState(\"\");\n    const runBocEmulator = async () => {\n        //@ts-ignore\n        setIsLoading(true);\n        let now = Date.now();\n        let bocResultResponse = await estimateBoc(boc.rawData);\n        setLoadingTime( `🚌 execution took ${((Date.now()- now) /1000).toFixed(2)}s` )\n        setIsLoading(false);\n        \n        setResults(JSON.parse(bocResultResponse));\n    }\n\n    const publishBocClick = async () => {\n        //@ts-ignore\n        setPublishingBoc(true);\n        \n        if(ArrayBuffer.isView(boc.rawData)) {\n            boc.rawData = u8ToBase64Str(boc.rawData);\n        }\n        try {\n            let bocResultResponse = await publishBoc(boc.rawData);\n            setPublishingBoc(false);\n            console.log(bocResultResponse);\n            setSendBocRes(bocResultResponse);\n        } catch (e: any) {\n            setSendBocError(e.message)\n        }   \n        \n        \n        \n    }\n\n    const shareClick =async () => {\n        let base64 = u8ToBase64Str(boc.rawData);\n        const url = `https://ton-defi-org.github.io/boc-parser-estimator/#${base64}`;\n        console.log(url);\n        \n        setShareUrl(url)\n    }\n    \n    const stateInit = boc.init ? (<>\n        <div className='mini-title'>Message State Init: </div>\n        <div className=\"mini-header\">Code</div>\n        <pre className='pre-body'>Code:{boc.init?.code.toString()}</pre>\n        <div className=\"mini-header\">Data</div>\n        <pre className='pre-body'>Data:{boc.init?.data.toString()}</pre>\n    </>) : null;\n    \n    console.log('boc.body',boc.bodyCell);\n    //@ts-ignore\n    let externalStateInit;\n    try {\n        externalStateInit = (<div>\n            <div className=\"mini-header\">External State Init</div>\n            <pre className='pre-body'>{(boc.stateInit as RawStateInit).code?.toString()}</pre>\n        </div>)\n    } catch (e) {\n        console.log(e);\n        \n    }\n\n    let sendBocResEl = null;\n    if (sendBocRes) {\n        sendBocResEl = <div className='boc-res-success'>{sendBocRes}</div>\n    }\n\n    if (sendBocError) {\n        sendBocResEl = <div className='boc-res-error'>{sendBocError}</div>\n    }\n\n    let buttonClass = (isLoading ? `is-loading` : ``) + ` button is-info`;\n    \n\n    console.log();\n    \n    return (\n        <div>\n            <div className='title'>{bocName}</div>\n            <div>\n                <div className='mini-title'>Source Wallet: </div>\n                <div className='addr'>{boc.wallet}</div>\n            </div>\n            <div>\n                <div className='mini-title'>Destination Address: </div>\n                <div className='addr'>{boc.destination} </div>\n                \n            </div>\n            <div>\n                <div className={'mini-title ' + (boc.msgSeqno == boc.seqno ? '': 'error-icon-seqno')}>Wallet Seqno: <b>{boc.seqno}</b> == Boc Seqno: <b>{boc.msgSeqno}</b></div>\n                <div className={'mini-title ' + (boc.validUntil - Date.now() / 1000 > 0 ? '' : 'error-icon-expired')}><b>Valid Until:</b> {new Date(boc.validUntil * 1000).toISOString()}</div>\n            </div>\n            <div>\n                <div className='mini-title'><b>SubWalletId:</b> {boc.subWalletId} </div>\n            </div>\n            <div>\n                <div className='mini-title'>Transfer Amount: </div>\n                <div className='addr'>{boc.amount} TON 💎</div>\n            </div>\n                <div>\n                    <div className='mini-title'>Internal Flags: </div>\n                <div className='addr'>Bounce: {`${boc.bounce}`}</div>\n            </div>\n            <div>\n                {externalStateInit}\n                <div>Cell</div>\n                <pre className='pre-body'>{boc.body?.toString()}</pre>\n                <div>Base64</div>\n                <pre className='pre-body'>{boc.bodyCell?.toBoc().toString(\"hex\")}</pre>\n            </div>\n            <div>{stateInit}</div>\n            <br />\n            {sendBocResEl}\n\n            <button className='button ' onClick={onClear}>❌ Clear</button>\n            <span className='p-10'></span>\n            <button className={buttonClass} onClick={runBocEmulator}>🎬 Estimate BOC</button>\n            <span className='p-10'></span>\n            <button className={`button is-primary ${isPublishingBoc ? 'is-loading' : ''}`} onClick={publishBocClick}>🚀 Publish BOC</button>\n            <span className='p-10'></span>\n            <button className={`button is-success }`} onClick={shareClick}>📷 Share Boc</button>\n            <br></br>\n            <BocResult messageList={results} loadingTime={loadingTime} />\n            <ShareQrCode shareUrl={shareUrl} />\n        </div>\n        )\n    };\n    ","// import 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);\n","import { parseMessage, parseStateInit, Cell, Slice, Address, RawCommonMessageInfo, RawCurrencyCollection, TonClient } from \"ton\";\nimport BN from \"bn.js\";\n\ntype RawCommonMessageInfoInternal = {\n    type: \"internal\";\n    ihrDisabled: boolean;\n    bounce: boolean;\n    bounced: boolean;\n    src: Address | null;\n    dest: Address | null;\n    value: RawCurrencyCollection;\n    ihrFee: BN;\n    fwdFee: BN;\n    createdLt: BN;\n    createdAt: number;\n};\n\nconst client = new TonClient({\n    endpoint: \"https://mainnet.tonhubapi.com/jsonRPC\",\n});\n\nexport function parseQuery(queryString: string) {\n    var query = {};\n    var pairs = (queryString[0] === \"?\" ? queryString.substr(1) : queryString).split(\"&\");\n    for (var i = 0; i < pairs.length; i++) {\n        var pair = pairs[i].split(\"=\");\n\n        //@ts-ignore\n        query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || \"\");\n    }\n    return query;\n}\n\nexport function u8ToBase64Str(u8: any) {\n    return  btoa(String.fromCharCode.apply(null, u8));\n}\n\nexport function base64ToArrayBuffer(base64: string) {\n    var binary_string = atob(base64);\n    var len = binary_string.length;\n    var bytes = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\nexport async function parseBoc(base64Boc: string) {\n    let c = Cell.fromBoc(Buffer.from(base64Boc, \"base64\"));\n\n    let externalMessage = parseMessage(c[0].beginParse());\n\n    let message = externalMessage.body.refs[0];\n    if (!message) {\n        return {\n            from: externalMessage.info.dest,\n            to: externalMessage.info.dest,\n            externalStateInit: externalMessage.init,\n        };\n    }\n    let slice = message.beginParse();\n    let innerMessage = parseMessage(slice);\n    const innerInfo = innerMessage.info as RawCommonMessageInfoInternal;\n\n    \n    const externalMessageBody = externalMessage.body.beginParse();\n    externalMessageBody.skip(512); // skip signature\n    const subWalletId = externalMessageBody.readUint(32);\n    const validUntil = externalMessageBody.readUint(32);\n    const msgSeqno = externalMessageBody.readUint(32);\n\n    let seqnoRes = await client.callGetMethod(externalMessage.info.dest as Address, \"seqno\")\n\n    return {\n        bounce: innerInfo.bounce,\n        from: externalMessage.info.dest,\n        to: innerMessage.info.dest,\n        init: innerMessage.init,\n        body: innerMessage.body,\n        value: innerInfo.value.coins,\n        seqno: new BN(seqnoRes.stack[0][1].replace('0x', ''), 16).toNumber(),\n        msgSeqno: msgSeqno.toNumber(),\n        validUntil: validUntil.toNumber(),\n        subWalletId: subWalletId.toNumber()\n    };\n}\n\nexport function readInternalMessage2(slice: Slice) {\n    let _tag = slice.readUint(1); //tag\n    const ihrDisabled = slice.readBit();\n    const bounce = slice.readBit();\n    const bounced = slice.readBit();\n    const src = slice.readAddress();\n    const destination = slice.readAddress();\n    const value = slice.readCoins();\n    const ihrFee = slice.readCoins();\n    const fwdFee = slice.readCoins();\n    const createdLt = slice.readUint(64);\n    const createdAt = slice.readUintNumber(32);\n    return {\n        type: \"internal\",\n        ihrDisabled,\n        bounce,\n        bounced,\n        src,\n        dest: destination,\n        destination,\n        value,\n        ihrFee,\n        fwdFee,\n        createdLt,\n        createdAt,\n    };\n}\n\nexport function addressFromJson(arg: { workchain: number; hash: any }) {\n    const buffer = Buffer.from(arg.hash);\n    return new Address(arg.workchain, buffer);\n}\n\nexport function bnToStr(arg: { workchain: number; hash: any }) {}\n\nexport function strEllipsis(str: string, len: number) {\n    if (str.length < len) {\n        return str;\n    }\n    return `${str.substring(0, len)}...`;\n}\n\nexport function addressEllipsis(address: string) {\n    return address.substring(0, 6) + \"...\" + address.substring(42, 48);\n}\n"],"sourceRoot":""}